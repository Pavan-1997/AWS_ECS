# AWS ECS

AWS ECS is a fully managed container orchestration service that allows you to run Docker containers at scale. It eliminates the need to manage your own container orchestration infrastructure and provides a highly scalable, reliable, and secure environment for deploying and managing your applications.

### ECS vs K8s vs Docker Swarm:

- Kubernetes is undoubtedly a powerful container orchestration tool with a vast ecosystem, but it comes with a steeper learning curve. ECS, on the other hand, offers a more straightforward setup and is tightly integrated with other AWS services, making it a preferred choice for AWS-centric environments.

- Docker Swarm is relatively easy to set up and is suitable for small to medium-scale deployments. However, as your application grows, ECS outshines Docker Swarm in terms of scalability, reliability, and seamless integration with AWS features like IAM roles and CloudWatch.



### ECS Components:

- Task Definitions: Defines how your containers should run, including the Docker image to use, CPU and memory requirements, networking, and more. It is like a blueprint for your containers.
  
- Tasks: Represents a single running instance of a task definition within a cluster. It could be a single container or multiple related containers that need to work together.

- Services: Helps you to maintain a specified number of running tasks simultaneously, ensuring high availability and load balancing for your applications.



### Advanatages of ECS:

- **Fully Managed Service**: AWS handles the underlying infrastructure, making it easier for you to focus on deploying and managing applications.

- **Seamless Integration**: ECS seamlessly integrates with other AWS services like IAM, CloudWatch, Load Balancers, and more.

- **Scalability**: With support for Auto Scaling, ECS can automatically adjust the number of tasks based on demand.

- **Cost-Effective**: You pay only for the AWS resources you use, and you can take advantage of cost optimization features.



### Disadvantages of ECS:

- **AWS-Centric**: If you have a multi-cloud strategy or already invested heavily in another cloud provider, ECS's tight integration with AWS might be a limitation.

- **Learning Curve for Advanced Features**: While basic usage is easy, utilizing more advanced features might require a deeper understanding.

- **Limited Flexibility**: Although ECS can run non-Docker workloads with EC2 launch types, it is primarily optimized for Docker containers.

---
# Setting up ECS along with ECR

1. Login to AWS console using an IAM user


2. Go ECS from AWS console -> Click on Get started 

	
3. Click on Create cluster -> Select Infrastructure as AWS Fargate -> Click on Create


4. Clone the repository into your system
```
git clone https://github.com/Pavan-1997/AWS_ECS.git
```

  
5. #### FOLLOW THE STEPS OF AWS_ECR (https://github.com/Pavan-1997/AWS_ECR) and build the Dockerfile present in the repo cloned and push it to ECR


6. Go back to ECS -> Click on the Cluster created -> On the left pane click on Task definitions -> Click on Create new task definiton -> Give name to the Task definition -> Reduce the memory to 2GB -> In container details give Name, Image URI - 317548628032.dkr.ecr.us-east-2.amazonaws.com/demo1997:latest (Give this from the image pushed) -> Container Port - 3000 -> Click on Create


7. Go to IAM roles -> Select the role ecsTaskExecutionRole -> Add permission & Attach policies -> Add CloudWatchLogsFullAccess & CloudWatchFullAccess

![image](https://github.com/Pavan-1997/AWS_ECS/assets/32020205/fe9f1121-c523-40ae-b50f-3157125727ce)


8.  In the Task definitions created -> Go to Deploy -> Click on Run task -> Select the Existing cluster created -> Click on Create

![image](https://github.com/Pavan-1997/AWS_ECS/assets/32020205/0992b2dd-896e-4e54-aaca-9054e19dbc90)

Below you can see the container running

![image](https://github.com/Pavan-1997/AWS_ECS/assets/32020205/307d9f99-bbcb-4d58-b2fb-3c0448ba6056)


9. Now go to CloudWatch and see the logs generated by the ECS

![image](https://github.com/Pavan-1997/AWS_ECS/assets/32020205/0e77f3e2-693b-41b4-afb4-d4ecb72134b8)


